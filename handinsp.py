from sklearn import linear_model
import mediapipe as mp
import numpy as np
import pickle
import cv2

# 学習した5×3データ
X=[[146.38647478507022, 95.01578816175763, 79.64923100695951, 65.29931086925804, 52.80151512977634],
[134.03357788255897, 88.20430828479978, 74.24957912338628, 61.91122676865643, 63.324560795950255],
[123.82245353731285, 76.84399781375251, 60.207972893961475, 48.84669896727925, 46.010868281309364],
[141.4496376806954, 84.72307831990054, 69.57010852370435, 58.034472514187634, 53.85164807134504],
[161.55494421403512, 75.8023746329889, 58.69412236331676, 46.486557196677836, 57.0701322935211],
[106.45186705737011, 247.6449070746257, 258.3118270617898, 55.0, 50.92150822589606],
[125.22779244241272, 268.8215021161812, 277.973020273551, 79.1580697086532, 72.69112738154499],
[110.4943437466371, 260.0173071162764, 265.7461194448566, 58.249463516842795, 51.66236541235796],
[111.6288493177279, 255.34486483969087, 263.53178176455305, 73.38937252763509, 73.824115301167],
[116.40017182117903, 244.49948875202173, 259.47061490658245, 72.12489168102785, 53.0],
[190.62528688503002, 260.35360569809666, 268.5702887513807, 249.23081671414553, 212.2192262732102],
[168.04761230080004, 242.29321080046796, 245.09997960016236, 229.2596780945136, 197.9520143873257],
[171.89822570346675, 236.24140195994434, 247.2023462671825, 238.73835050112916, 203.39370688396434],
[186.52613757862463, 257.9922479455536, 268.9386547151599, 250.56935167733502, 210.61813787041228],
[187.77912557044246, 252.24194734421155, 262.1907702418222, 243.21389762922678, 208.47062143141417]]
#1：グー、２：チョキ、３：パー
y = [1,1,1,1,1,2,2,2,2,2,3,3,3,3,3]

# ロジスティック回帰分析
clf = linear_model.LogisticRegression(max_iter=10000)
clf.fit(X,y)
print(clf.score(X,y))

with open('model.pickle', mode='wb') as f:
    pickle.dump(clf,f,protocol=2)